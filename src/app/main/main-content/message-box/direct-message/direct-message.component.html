<div class="message-box">
  <!-- Header: Zeigt den ausgewählten Benutzer -->
  <div class="header">
    <div class="df_fd_r_aic main-content">
      <img
        *ngIf="selectedUser?.picture"
        class="user-avatar"
        [src]="selectedUser?.picture"
        alt="Avatar"
      />
      <div class="user-name">{{ selectedUser?.name }}</div>
    </div>
  </div>

  <!-- Nachrichtenbereich -->
  <div class="content">
    @for (message of directMessages; track message; let index = $index) {
    <div class="message df_fd_r_aic">
      <img class="avatar-chat-img" [src]="currentUser?.picture" alt="" />
      <div class="df_fd_c message-content">
        <span
          ><b>{{ currentUser?.name }}</b></span
        >
        <span
          class="sender"
          [ngClass]="{ 'own-message': message.senderId === currentUser?.id }"
        >
          {{ message.text }}
        </span>
      </div>
      <!-- Action Menü, das beim Hover erscheinen soll -->
      <div class="action-menu">
        <img
          src="/icons/edit_icon.png"
          alt="Edit"
          (click)="editMessage(message)"
        />
        <img
          src="/icons/add_reaction.png"
          alt="Add Reaction"
          (click)="addReaction(message)"
        />
        <img
          src="/icons/delete_icon.png"
          alt="Delete"
          (click)="deleteMessage(message)"
        />
      </div>
    </div>
    }
  </div>

  <!-- Eingabebereich: Hier wird die Textarea-Komponente eingebunden -->
  <app-textarea
    [textInput]="textInput"
    [mainMessageBoxPadding]="'2.5rem 2.8125rem 2.5rem 2.8125rem'"
    [toolbarWidth]="'calc(100% - 8.125rem)'"
    placeholder="Nachricht an {{ selectedUser?.name }}"
  >
  </app-textarea>
</div>
